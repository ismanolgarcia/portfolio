---
import AboutMeTab from './AboutMeTab.astro';
import ProjectsTab from './ProjectsTab.astro';
---

<div>
  <div class="mb-8 bg-neutral-dark rounded-lg">
    <ul
      class="flex h-16 gap-2 p-2"
      id="myTab"
      data-tabs-toggle="#myTabContent"
      role="tablist"
    >
      <li class="w-full" role="presentation">
        <button
          class="flex justify-center h-full items-center w-full text-gray-500 hover:text-gray-600 hover:border-gray-300 rounded-lg text-sm font-medium border-transparent dark:text-gray-400 dark:hover:text-gray-300 active-tab"
          id="profile-tab"
          data-tabs-target="#profile"
          type="button"
          role="tab"
          aria-controls="profile"
          aria-selected="false">Projects</button
        >
      </li>
      <li class="w-full" role="presentation">
        <button
          class="flex justify-center h-full items-center w-full text-gray-500 hover:text-gray-600 hover:border-gray-300 rounded-lg text-sm font-medium border-transparent dark:text-gray-400 dark:hover:text-gray-300"
          id="dashboard-tab"
          data-tabs-target="#dashboard"
          type="button"
          role="tab"
          aria-controls="dashboard"
          aria-selected="true">About Me</button
        >
      </li>
    </ul>
  </div>
  <div id="myTabContent">
    <div
      class="p-4 rounded-lg"
      id="profile"
      role="tabpanel"
      aria-labelledby="profile-tab"
    >
      <ProjectsTab />
    </div>
    <div
      class="p-4 rounded-lg hidden"
      id="dashboard"
      role="tabpanel"
      aria-labelledby="dashboard-tab"
    >
      <AboutMeTab />
    </div>
  </div>
</div>

<style>
  .active-tab {
    background-color: #0c151d;
    color: #6bb5fe;
  }
</style>
<script>
  const tabs = document.querySelectorAll('[role="tab"]');
  const tabContents = document.querySelectorAll('[role="tabpanel"]');

  tabs.forEach((tab) => {
    tab.addEventListener('click', () => {
      tabs.forEach((t) => t.classList.remove('active-tab'));
      tabContents.forEach((content) => content.classList.add('hidden'));
      tab.classList.add('active-tab');
      const target = tab.getAttribute('data-tabs-target');
      document.querySelector(target).classList.remove('hidden');
    });
  });
</script>

<script
  src="https://unpkg.com/@themesberg/flowbite@1.2.0/dist/flowbite.bundle.js"
></script>
